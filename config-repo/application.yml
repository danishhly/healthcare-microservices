# Global defaults for all services that connect to the config server

# --- Eureka Configuration ---
# All services should register with Eureka
eureka:
  client:
    serviceUrl:
      # Use localhost here for services running from your IDE
      defaultZone: http://localhost:8761/eureka/
  instance:
    instance-id: ${spring.application.name}:${instance_id:${random.value}}
    prefer-ip-address: true

# --- Database Configuration ---
# Default database connection for services that need it
spring:
  datasource:
    # 'postgres' is the service name from your docker-compose.yml
    url: jdbc:postgresql://localhost:5432/health_db
    username: user
    password: password
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update # Good for development
    show-sql: true
    properties:
      hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect

# --- Actuator Configuration ---
# Expose all actuator endpoints for monitoring
management:
  endpoints:
    web:
      exposure:
        include: "*" # Exposes all endpoints (health, metrics, prometheus, etc.)
  endpoint:
    health:
      show-details: always